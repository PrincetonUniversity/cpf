\begin{lstlisting}[escapeinside={~}{~}, belowskip=0pt]
float output_act[NOU];

for (epoch = 0; epoch < NUM_EPOCHS; epoch++) {
  ...
  receiver = &output_act[0];
  end_receiver = &output_act[NOU - 1];
  for ( ; receiver <= end_receiver; ) {
    *receiver = 0.0;
    sender = &hidden_act[0];
    end_sender= &hidden_act[NHU];
    for (; sender <= end_sender; )
      *receiver += (*sender++) * (*weight++);
    *receiver = SIGMOID(*receiver);
    *receiver++;
  }
  ...
  for (ou = 0; ou < NOU; ou++) {
  	delta[ou] = (teach[ou] - output_act[ou]) *
      output_act[ou] * (1.0 - output_act[ou]);
  	...
  }
  ...
}
\end{lstlisting}
